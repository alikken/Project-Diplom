# SCalculator - Калькулятор строительных материалов

## Стек проекта

### Языки программирования и фреймворки
- Python 3.11 ([Скачать Python 3.11](https://www.python.org/downloads/release/python-3115/))
- Django 5.1.4 (Backend)
- JavaScript (Frontend)
- CSS3 (Стилизация)

### База данных
- SQLite3

### Основные зависимости
- reportlab==3.6.12 (Генерация PDF)
- XlsxWriter==3.2.0 (Работа с Excel)
- Pillow==11.1.0 (Обработка изображений)
- python-dotenv (Управление переменными окружения) (Виртуальное пространство)
(Остальные в requirements.txt)

## Установка и настройка

### 1. Установка Python
1. Скачайте Python 3.11.5:
   - [Windows](https://www.python.org/ftp/python/3.11.5/python-3.11.5-amd64.exe)
      https://www.python.org/ftp/python/3.11.5/python-3.11.5-amd64.exe
2. При установке на Windows отметьте галочку "Add Python to PATH"

### 2. Проверка установки
Откройте терминал(cmd) и выполните:
```bash
python --version  # Должно показать Python 3.11.x
python -m pip install --upgrade pip
```

### 3. Клонирование проекта (!!!Не нужен если распоковал архив сайта в нужную папку!!!)
```bash
git clone <url-репозитория>
cd scalculator
```

### 4. Настройка виртуального окружения(Создание и активация виртуального пространство python)
```bash
# Windows
cd "<Путь к папке>"/site/
python -m venv venv
cd venv/Scripts/
activate
cd ../..
```

### 5. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 6. Настройка базы данных(Проведение миграций)
```bash
python manage.py makemigrations
python manage.py migrate
```

### 7. Создание суперпользователя(Создание Админ пользователя)
```bash
python manage.py createsuperuser
```

### 8. Сбор статических файлов
```bash
python manage.py collectstatic
```

### 9. Запуск сервера разработки
```bash
python manage.py runserver
```

Приложение будет доступно по адресу: http://127.0.0.1:8000/home/

### 10. Повторный запуск сайта
Для повторного запуска сайта после выключения компьютера или закрытия терминала:
```bash
# Windows
cd "<Путь к папке>"/site/
cd venv/Scripts/
activate
cd ../..
python manage.py runserver
```
После этих действий сайт снова будет доступен по адресу: http://127.0.0.1:8000/home/

## Структура проекта
```
site/
├── Calculation/          # Основное приложение
│   ├── models.py        # Модели данных
│   ├── views.py         # Представления
│   ├── forms.py         # Формы
│   └── urls.py         # URL маршруты
├── static/              # Статические файлы
│   ├── css/            # Стили
│   ├── js/             # JavaScript файлы
│   └── media/         # Медиа файлы
├── templates/          # HTML шаблоны
├── settings/          # Настройки проекта
└── manage.py          # Скрипт управления
```

## Подробное описание backend файлов

### Calculation/views.py
- Основной файл логики приложения
- Содержит функции-обработчики для всех страниц и действий
- Обрабатывает запросы пользователя и возвращает ответы
- Содержит логику расчетов материалов
- Управляет экспортом данных в PDF и Excel

### Calculation/models.py
- Описывает структуру базы данных
- Содержит классы моделей:
  - Room (параметры помещения)
  - Opening (окна и двери)
  - Различные типы материалов (обои, краска, плитка и т.д.)
  - Template (шаблоны расчетов)
  - MaterialCalculation (результаты расчетов)

### Calculation/forms.py
- Описывает формы для ввода данных
- Содержит классы форм для:
  - Регистрации и авторизации
  - Ввода параметров помещения
  - Добавления материалов
  - Создания шаблонов

### Calculation/urls.py
- Определяет маршрутизацию URL
- Связывает URL-адреса с соответствующими функциями в views.py
- Управляет структурой ссылок сайта

### Calculation/admin.py
- Настройка административной панели Django
- Регистрация моделей для управления через админ-панель
- Настройка отображения данных в админке

### static/js/*.js
- calculator.js - логика калькулятора материалов
- profile.js - функционал профиля пользователя
- home.js - скрипты главной страницы
- base.js - общие функции для всего сайта

## Доступ к админ-панели
После создания суперпользователя админ-панель доступна по адресу:
http://127.0.0.1:8000/admin/
